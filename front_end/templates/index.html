<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="data:,">
    <title>HLS视频播放器</title>
    <!-- 引入video.js样式 -->
    <link href="{{ url_for('static', filename='video-js.min.css') }}" rel="stylesheet">
    <style>
        /* 设置video.js播放器的宽度和高度 */
        .video-js {
            width: 1728px;
            height: 720px;
        }
    </style>
</head>
<body>
    <h1>HLS视频播放器</h1>
    <!-- video.js播放器 -->
    <!-- <div id="player" style="width: 1728px;height: 720px;"> -->
        <video
            id="video-player"
            class="video-js vjs-default-skin"
            controls
            preload="auto"
            data-setup="{}"
            autoplay
            onerror="handleError()">
            <source src="static/hls_folder/output.m3u8" type="application/x-mpegURL">
        </video>
    <!-- </div> -->
    <!-- 引入video.js脚本 -->
    <script src="{{ url_for('static', filename='video.min.js') }}"></script>
    <script>
        var videoPlayer = videojs('video-player', {
            autoplay: true,
            preload: 'auto'
        });
        videoPlayer.hls.segmentLoadTime = 0.5;

        // 播放器错误处理
        function handleError() {
            // 视频加载错误时，暂停视频播放
            videoPlayer.pause();
        }

    </script>
</body>
</html>

